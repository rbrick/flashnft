(self["webpackChunk"]=self["webpackChunk"]||[]).push([[764],{77951:function(e){e.exports={wrap:"wrap___2w7Oj",record:"record___Re5UZ"}},86021:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return j}});a(22385);var t=a(66607),r=a(3182),s=a(57337),i=a(94043),c=a.n(i),d=a(67294),o=a(48983),l=a(96486),p=a(27484),u=a.n(p),m=a(77951),h=a.n(m),x=a(85893),y=259200,f=7776e3,g=(0,o.eI)({url:"https://api.thegraph.com/subgraphs/name/ensdomains/ens"});function j(){var e=(0,d.useState)("Data is empty"),n=(0,s.Z)(e,2),a=n[0],i=n[1],o=(0,d.useState)(!1),p=(0,s.Z)(o,2),m=p[0],j=p[1],w=(0,d.useState)([]),v=(0,s.Z)(w,2),D=v[0],b=v[1],_=function(){var e=(0,r.Z)(c().mark((function e(){var n,a,t,r,s;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b([]),j(!0),i("Data is empty"),n=u()().endOf("day").unix()-f,a=u()().endOf("day").unix()-f+y,e.prev=5,t="\n        query {\n          registrations(\n            where: {\n              labelName_not: null\n              expiryDate_gt: ".concat(n," \n              expiryDate_lte: ").concat(a,"\n            }\n            orderBy: expiryDate\n            orderDirection: desc\n          ) {\n            domain {\n              name\n            }\n            expiryDate\n          }\n        }\n      "),e.next=9,g.query(t).toPromise();case 9:r=e.sent,s=(0,l.get)(r,"data.registrations",[]).map((e=>({expiryDate:e.expiryDate,name:(0,l.get)(e,"domain.name","")}))).filter((e=>e.name)).sort(((e,n)=>e.name.length-n.name.length)),b(s),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](5),i("Query timed out, Please try again");case 17:j(!1);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((()=>{_()}),[]),(0,x.jsxs)("div",{className:h().wrap,children:[(0,x.jsx)("h2",{children:"Find the forgotten ENS domain"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{children:"\ud83d\ude0d the carefully selected domain name will be owned by you soon."}),(0,x.jsx)("p",{children:"\ud83d\udc47 data range: registration is allowed in the next 3 days."})]}),(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:h().record,children:D.length>0?D.map((e=>(0,x.jsx)("div",{children:(0,x.jsx)(t.Z,{title:"Allow registration date: ".concat(u()(Number("".concat(Number(e.expiryDate)+f,"000"))).format("YYYY-MM-DD HH:mm:ss")," (UTC+08:00)"),children:(0,x.jsx)("a",{href:"https://app.ens.domains/name/".concat(e.name),target:"_blank",children:e.name})})},e.name))):m?(0,x.jsxs)("span",{children:[(0,x.jsx)("span",{children:"Loading"}),(0,x.jsx)("span",{className:"dotting"})]}):(0,x.jsx)("span",{children:a})})})]})}}}]);